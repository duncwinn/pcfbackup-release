---
name: cfbackup

templates:
  ctl.erb: bin/ctl
  backup.sh.erb: bin/backup
  backup.cron.erb: config/backup.cron

packages:
- cfops
- s3-cli

properties:
  backup.ops_manager.schedule:
    description: Cron formatted schedule for running the Ops Manager backup
    default: 0 0 * * *
  backup.ops_manager.host:
    description: Ops Manager host
  backup.ops_manager.username:
    description: Ops Manager console username
    default: OMadmin
  backup.ops_manager.password:
    description: Ops Manager console password
  backup.ops_manager.tempest_password:
    description: Ops Manager tempest password
  backup.s3.bucket:
    decription: S3 bucket name for storing backup
  backup.s3.folder:
    description: Folder within S3 buckup for all backups (Note - will likely want different folders for different backups... OpsMgr, vs Elastic Runtime vs. ...)
  backup.s3.access-key-id:
    description: AWS access key ID
  backup.s3.secret-access-key:
    description: AWS secret access key
  backup.s3.kms-key-id:
    description: AWS Key Management Service Key Id
  backup.s3.proxy-host:
    description: proxy host
  backup.s3.proxy-port:
    description: proxy port
  